<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Start of Meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- End of Meta tags -->

    <title>Ticket List</title>

    <!-- Start of Styles -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="./Media/Images/favicon-32x32.png">
    <link rel="stylesheet" href="./styles/BookAddedTicket.css">
    <link rel="stylesheet" href="./styles/BookTicket.css">
    <!-- End of Styles -->

    <!-- Start of Scripts -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="./scripts/Authorization.js"></script>
    <script src="./scripts/SeatScript.js"></script>
    <script src="./scripts/TicketDataScript.js"></script>
    <script src="./scripts/BookAddedTicketScript.js"></script>
    <script src="./scripts/ScheduleDataScript.js"></script>
    <script src="./scripts/BookTicketScript.js"></script>
    
    <script>
        $(document).ready(function(){
            checkAuthorization();

          $('#nav-placeholder').load('NavBar.html', function() {
            setNavDetails();
            getTicketFromTicketId(sessionStorage.getItem('ticketId')).then(data => {
                if(data)
                    displayTicketDetails(data);
                else 
                    {
                        Swal.fire({
                            title: "Ticket Expired",
                            confirmButtonText: "OK"
                            }).then((result) => {
                            if (result.isConfirmed) {
                            location.href="TicketsList.html";
                            }
                        });
                    }
            });
          });
          $("#footer-placeholder").load("Footer.html");
        });
    </script>
    <!-- End of Scripts -->

</head>
<body>
    <nav id="nav-placeholder"></nav>

    <div class="main-booking-container">
        
        <div class = "ticket-info-container">
            <div class = "schedule-info">
                
                <div class="card ticket-card">
                    <h3 class="schedule-info-header"> Schedule Details </h3> <hr/>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <h5 class="card-title" id="busNumber"> </h5>
                            </div>
                            <div class="col-6 col3">
                                <h5 class="card-title" id="seats"> </h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <p class="card-text" id="from"> </p>
                            </div>
                            <div class="col-4 col2">
                                <p class="card-text"> <i class="fa-solid fa-arrow-right"></i> </p>
                            </div>
                            <div class="col-4 col3">
                                <p class="card-text" id="to"> </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <p class="card-text" id="departure">  </p>
                            </div>
                            <div class="col-6 col3">
                                <p class="card-text" id="arrival">  </p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class = "card passenger-info">
                <h3 class="passenger-info-header"> Passenger Details </h3> <hr/>
                <div class="row passenger-form-row">
                    
                </div>
            </div>
        </div>

        <div class = "cost-info-container">
            <div class="Cost-Details">
                <div class="card cost-card">
                  <div class="card-body">
                      <div class="row">
                          <div class="col">
                              <h3 class="cost-info-header"> Cost Details </h3> <hr/>
                          </div>
                      </div>
                      <div class="amount">
                        <div class="row">
                          <div class="col AmtDesc-col">
                              <p> Base Fare: </p> 
                          </div>
                          <div class="col amount-col">
                              <p class="base"> </p>
                          </div>  
                        </div>
                        <div class="row">
                          <div class="col AmtDesc-col">
                              <p> Gst Amount </p> 
                          </div>
                          <div class="col amount-col">
                              <p class="gst"> </p>
                          </div>  
                        </div>
                        <div class="row">
                          <div class="col AmtDesc-col">
                              <p> Discount Amount </p> 
                          </div>
                          <div class="col amount-col">
                              <p class="discount"> </p>
                          </div>  
                        </div>
                        <hr/>
                        <div class="row" style="margin-top: 10px">
                          <div class="col AmtDesc-col">
                              <p> Final Fare: </p> 
                          </div>
                          <div class="col amount-col">
                              <p class="final_fare"> </p>
                          </div>  
                        </div>
                        <div class="row">
                          <div class="col col1">
                              <button class="btn btn-success" id="bookTicket_gpay" onclick="bookTicket('gpay')"> GPAY </button>
                          </div>
                          <div class="col col2">
                              <button class="btn btn-success" id="bookTicket_paytm" onclick="bookTicket('paytm')"> PayTM </button>
                          </div>
                        </div>
                      </div>
                  </div>
                </div>
              </div>
        </div>
    </div>

    <footer id="footer-placeholder"></footer>
</body>
</html>